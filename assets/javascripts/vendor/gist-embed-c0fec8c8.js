!function(t){t(function(){function e(t){for(var e,n=[],i=t.split(","),r=0;r<i.length;r++)if(e=i[r].split("-"),2===e.length)for(var a=parseInt(e[0],10);a<=e[1];a++)n.push(a);else 1===e.length&&n.push(parseInt(e[0],10));return n}t("[data-gist-id]").each(function(){var n,i,r,a,o,s,u,l=t(this),c={};return l.css("display","block"),n=l.attr("data-gist-id")||"",r=l.attr("data-gist-file"),s="true"===l.attr("data-gist-hide-footer"),u="true"===l.attr("data-gist-hide-line-numbers"),a=(l.attr("data-gist-line")||"").replace(/ /g,""),o=(l.attr("data-gist-highlight-line")||"").replace(/ /g,""),r&&(c.file=r),n?isNaN(parseInt(n,10))?(l.html("Failed loading gist with incorrect id format: "+n),!1):(i="https://gist.github.com/"+n+".json",l.html("Loading gist "+i+(c.file?", file: "+c.file:"")+"..."),t.ajax({url:i,data:c,dataType:"jsonp",timeout:1e4,success:function(n){var r,c,h,f,d;n&&n.div?(n.stylesheet&&0!==n.stylesheet.indexOf("http")&&(0!==n.stylesheet.indexOf("/")&&(n.stylesheet="/"+n.stylesheet),n.stylesheet="https://gist.github.com"+n.stylesheet),n.stylesheet&&0===t('link[href="'+n.stylesheet+'"]').length&&(r=document.createElement("link"),c=document.getElementsByTagName("head")[0],r.type="text/css",r.rel="stylesheet",r.href=n.stylesheet,c.insertBefore(r,c.firstChild)),d=t(n.div),d.removeAttr("id"),l.html("").append(d),a&&(h=e(a),d.find(".line").each(function(e){-1===t.inArray(e+1,h)&&t(this).remove()}),d.find(".line-number").each(function(e){-1===t.inArray(e+1,h)&&t(this).remove()})),s&&d.find(".gist-meta").remove(),u&&d.find(".line-numbers").remove(),o&&(f=e(o),d.find("td.line-data").css({width:"100%"}),d.find(".line").each(function(e){-1!==t.inArray(e+1,f)&&t(this).css({"background-color":"rgb(255, 255, 204)"})}))):l.html("Failed loading gist "+i)},error:function(){l.html("Failed loading gist "+i)}}),void 0):!1})})}(jQuery);