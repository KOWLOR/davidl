!function(t){t(function(){function e(t){for(var e,n=[],i=t.split(","),r=0;r<i.length;r++)if(e=i[r].split("-"),2===e.length)for(var o=parseInt(e[0],10);o<=e[1];o++)n.push(o);else 1===e.length&&n.push(parseInt(e[0],10));return n}t("[data-gist-id]").each(function(){var n,i,r,o,a,s,l,u=t(this),c={};return u.css("display","block"),n=u.attr("data-gist-id")||"",r=u.attr("data-gist-file"),s="true"===u.attr("data-gist-hide-footer"),l="true"===u.attr("data-gist-hide-line-numbers"),o=(u.attr("data-gist-line")||"").replace(/ /g,""),a=(u.attr("data-gist-highlight-line")||"").replace(/ /g,""),r&&(c.file=r),n?isNaN(parseInt(n,10))?(u.html("Failed loading gist with incorrect id format: "+n),!1):(i="https://gist.github.com/"+n+".json",u.html("Loading gist "+i+(c.file?", file: "+c.file:"")+"..."),t.ajax({url:i,data:c,dataType:"jsonp",timeout:1e4,success:function(n){var r,c,f,d,h;n&&n.div?(n.stylesheet&&0!==n.stylesheet.indexOf("http")&&(0!==n.stylesheet.indexOf("/")&&(n.stylesheet="/"+n.stylesheet),n.stylesheet="https://gist.github.com"+n.stylesheet),n.stylesheet&&0===t('link[href="'+n.stylesheet+'"]').length&&(r=document.createElement("link"),c=document.getElementsByTagName("head")[0],r.type="text/css",r.rel="stylesheet",r.href=n.stylesheet,c.insertBefore(r,c.firstChild)),h=t(n.div),h.removeAttr("id"),u.html("").append(h),o&&(f=e(o),h.find(".line").each(function(e){-1===t.inArray(e+1,f)&&t(this).remove()}),h.find(".line-number").each(function(e){-1===t.inArray(e+1,f)&&t(this).remove()})),s&&h.find(".gist-meta").remove(),l&&h.find(".line-numbers").remove(),a&&(d=e(a),h.find("td.line-data").css({width:"100%"}),h.find(".line").each(function(e){-1!==t.inArray(e+1,d)&&t(this).css({"background-color":"rgb(255, 255, 204)"})}))):u.html("Failed loading gist "+i)},error:function(){u.html("Failed loading gist "+i)}}),void 0):!1})})}(jQuery);