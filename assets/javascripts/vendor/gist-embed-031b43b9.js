!function(t){t(function(){function e(t){for(var e,n=[],i=t.split(","),r=0;r<i.length;r++)if(e=i[r].split("-"),2===e.length)for(var a=parseInt(e[0],10);a<=e[1];a++)n.push(a);else 1===e.length&&n.push(parseInt(e[0],10));return n}t("[data-gist-id]").each(function(){var n,i,r,a,o,s,l,c=t(this),u={};return c.css("display","block"),n=c.attr("data-gist-id")||"",r=c.attr("data-gist-file"),s="true"===c.attr("data-gist-hide-footer"),l="true"===c.attr("data-gist-hide-line-numbers"),a=(c.attr("data-gist-line")||"").replace(/ /g,""),o=(c.attr("data-gist-highlight-line")||"").replace(/ /g,""),r&&(u.file=r),n?isNaN(parseInt(n,10))?(c.html("Failed loading gist with incorrect id format: "+n),!1):(i="https://gist.github.com/"+n+".json",c.html("Loading gist "+i+(u.file?", file: "+u.file:"")+"..."),t.ajax({url:i,data:u,dataType:"jsonp",timeout:1e4,success:function(n){var r,u,d,f,h;n&&n.div?(n.stylesheet&&0!==n.stylesheet.indexOf("http")&&(0!==n.stylesheet.indexOf("/")&&(n.stylesheet="/"+n.stylesheet),n.stylesheet="https://gist.github.com"+n.stylesheet),n.stylesheet&&0===t('link[href="'+n.stylesheet+'"]').length&&(r=document.createElement("link"),u=document.getElementsByTagName("head")[0],r.type="text/css",r.rel="stylesheet",r.href=n.stylesheet,u.insertBefore(r,u.firstChild)),h=t(n.div),h.removeAttr("id"),c.html("").append(h),a&&(d=e(a),h.find(".line").each(function(e){-1===t.inArray(e+1,d)&&t(this).remove()}),h.find(".line-number").each(function(e){-1===t.inArray(e+1,d)&&t(this).remove()})),s&&h.find(".gist-meta").remove(),l&&h.find(".line-numbers").remove(),o&&(f=e(o),h.find("td.line-data").css({width:"100%"}),h.find(".line").each(function(e){-1!==t.inArray(e+1,f)&&t(this).css({"background-color":"rgb(255, 255, 204)"})}))):c.html("Failed loading gist "+i)},error:function(){c.html("Failed loading gist "+i)}}),void 0):!1})})}(jQuery);