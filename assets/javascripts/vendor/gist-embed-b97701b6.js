!function(t){t(function(){function e(t){for(var e,n=[],r=t.split(","),i=0;i<r.length;i++)if(e=r[i].split("-"),2===e.length)for(var a=parseInt(e[0],10);a<=e[1];a++)n.push(a);else 1===e.length&&n.push(parseInt(e[0],10));return n}t("[data-gist-id]").each(function(){var n,r,i,a,o,s,l,u=t(this),c={};return u.css("display","block"),n=u.attr("data-gist-id")||"",i=u.attr("data-gist-file"),s="true"===u.attr("data-gist-hide-footer"),l="true"===u.attr("data-gist-hide-line-numbers"),a=(u.attr("data-gist-line")||"").replace(/ /g,""),o=(u.attr("data-gist-highlight-line")||"").replace(/ /g,""),i&&(c.file=i),n?isNaN(parseInt(n,10))?(u.html("Failed loading gist with incorrect id format: "+n),!1):(r="https://gist.github.com/"+n+".json",u.html("Loading gist "+r+(c.file?", file: "+c.file:"")+"..."),void t.ajax({url:r,data:c,dataType:"jsonp",timeout:1e4,success:function(n){var i,c,h,f,d;n&&n.div?(n.stylesheet&&0!==n.stylesheet.indexOf("http")&&(0!==n.stylesheet.indexOf("/")&&(n.stylesheet="/"+n.stylesheet),n.stylesheet="https://gist.github.com"+n.stylesheet),n.stylesheet&&0===t('link[href="'+n.stylesheet+'"]').length&&(i=document.createElement("link"),c=document.getElementsByTagName("head")[0],i.type="text/css",i.rel="stylesheet",i.href=n.stylesheet,c.insertBefore(i,c.firstChild)),d=t(n.div),d.removeAttr("id"),u.html("").append(d),a&&(h=e(a),d.find(".line").each(function(e){-1===t.inArray(e+1,h)&&t(this).remove()}),d.find(".line-number").each(function(e){-1===t.inArray(e+1,h)&&t(this).remove()})),s&&d.find(".gist-meta").remove(),l&&d.find(".line-numbers").remove(),o&&(f=e(o),d.find("td.line-data").css({width:"100%"}),d.find(".line").each(function(e){-1!==t.inArray(e+1,f)&&t(this).css({"background-color":"rgb(255, 255, 204)"})}))):u.html("Failed loading gist "+r)},error:function(){u.html("Failed loading gist "+r)}})):!1})})}(jQuery);